<!DOCTYPE html>
<html ng-app="cribs">

<head>
    <meta charset="utf-8">
    <title></title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/css/tether.min.css" media="screen" title="no title" charset="utf-8">

    <link rel="stylesheet" href="main.min.css">
</head>

<body ng-controller="cribsController">


    <nav class="navbar-fixed-top navbar navbar-light bg-faded">
        <div class="nav navbar-nav">
            <a class="navbar-brand" href="#">BedSpacr</a>
            <a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>
        </div>
    </nav>
    <!-- main Wrapper-->
    <div id="currency-wrapper">
        <!--Outer container-->
        <div class="container">

            <!-- redundant container-row wrapper too lazy to style -->
            <div class="container">
              <div class="row">
                <div class="form-group">
                    <input ng-model="query" type="text" placeholder="Find a House Near You" class="form-control input-lg">
                </div>
              </div>
            </div>

            <!-- Price Query -->
            <div class="row" ng-if=!addListing>
                <div class="label-wrap container">
                    <!-- label wrap for h-->
                    <h4>Select a Price Range: </h4>
                </div>
                <div class="input-group col-sm-6">
                    <span class="input-group-addon" id="minPrice">Min Price</span>
                    <select class="c-select form-control" name="minPrice" ng-model="priceInfo.min">
                        <option value="5000">$5,000</option>
                        <option value="6000">$6,000</option>
                        <option value="7000">$7,000</option>
                        <option value="8000">$8,000</option>
                        <option value="9000">$9,000</option>
                        <option value="10000">$10,000</option>
                        <option value="20000">$20,000</option>
                        <option value="30000">$30,000</option>
                        <option value="40000">$40,000</option>
                        <option value="50000">$50,000</option>
                        <option value="60000">$60,000</option>
                        <option value="70000">$70,000</option>
                        <option value="80000">$80,000</option>
                        <option value="90000">$90,000</option>
                        <option value="100000">$100,000</option>
                    </select>
                </div>

                <div class="input-group col-sm-6">
                    <span class="input-group-addon" id="maxPrice">Max Price</span>
                    <select class="c-select form-control" name="maxPrice" ng-model="priceInfo.max">
                        <option value=""></option>
                        <option value="5000">$5,000</option>
                        <option value="6000">$6,000</option>
                        <option value="7000">$7,000</option>
                        <option value="8000">$8,000</option>
                        <option value="9000">$9,000</option>
                        <option value="10000">$10,000</option>
                        <option value="20000">$20,000</option>
                        <option value="30000">$30,000</option>
                        <option value="40000">$40,000</option>
                        <option value="50000">$50,000</option>
                        <option value="60000">$60,000</option>
                        <option value="70000">$70,000</option>
                        <option value="80000">$80,000</option>
                        <option value="90000">$90,000</option>
                        <option value="100000">$100,000</option>
                    </select>
                </div>
            </div>

            <button class="button-submit btn btn-primary" ng-click="addListing = !addListing" ng-show="!addListing">Add a new listing
            </button>

            <button class="button-submit btn btn-danger" ng-click="addListing = !addListing" ng-show="addListing">Close
            </button>
            <!-- Price Query -->

            <div class="listing-form" ng-if="addListing">
                <div class="label-wrap">
                    <h4>Add a Listing: </h4>
                </div>

                <div class="row listing-form-row">
                    <div class="col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">Address</span>
                            <input type="text" placeholder="Enter the address" class="form-control" ng-model="newListing.address">
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">Price</span>
                            <input type="text" placeholder="Enter the price" class="form-control" ng-model="newListing.price">
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">Property Type</span>
                            <select type="select" name="propertyType" id="propertyType" class="form-control c-select" ng-model="newListing.type">
                                <option value="House">House</option>
                                <option value="Condo">Condo</option>
                                <option value="Duplex">Duplex</option>
                                <option value="Apartment">Apartment</option>
                            </select>
                        </div>
                    </div>

                    <div class="row-2 col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">Beds</span>
                            <input type="text" placeholder="Bedrooms" class="form-control" ng-model="newListing.details.bedrooms">
                        </div>
                    </div>

                    <div class="row-2 col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">Baths</span>
                            <input type="text" placeholder="Bathrooms" class="form-control" ng-model="newListing.details.bathrooms">
                        </div>
                    </div>

                    <div class="row-2 col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">SqFt</span>
                            <input type="text" placeholder="Square Footage" class="form-control" ng-model="newListing.details.area">
                        </div>
                    </div>

                    <div class="row-2 col-sm-4">
                        <div class="input-group">
                            <span class="input-group-addon">Image Link</span>
                            <input type="text" placeholder="Image Link" class="form-control" ng-model="newListing.link">
                        </div>
                    </div>
                </div>

                <div class="label-wrap">
                    <h4>Description: </h4>
                </div>

                <div class="input-group">
                    <span class="input-group-addon">Description</span>
                    <textarea type="text" placeholder="Add a Description" class="form-control" ng-model="newListing.description">
                    </textarea>
                </div>

                <div class="json-display">
                    <pre>{{newListing | json}}</pre>
                </div>

                <div class="button-submit">
                    <button class="btn btn-primary listing-button" ng-click="postListing(newListing)">Add
                    </button>
                </div>

                <!--  end Form List -->

            </div>
            <!-- end outer container -->
        </div>
        <!-- end currency-wrapper -->
    </div>

    <!-- ng-src identifies this string literal as images/ where the root of the images are and {{crib.image}} is from our houses.json -->
    <div class="container">
        <div class="card-columns">
            <div class="card" ng-repeat="crib in cribs | filter:query | currencyFilter:priceInfo | orderBy:'-id' ">

                <!-- local Store -->
                <img ng-hide="!crib.image" ng-src="images/compressed/{{crib.image}}.jpg">

                <!-- link -->
                <img ng-hide="!crib.link" src="{{crib.link}}" alt="">

                <div class="card-block">
                    <h3 class="card-title">{{crib.address}}</h3>
                    <p><strong>Type: </strong>{{crib.type}}</p>
                    <p><strong>Price: </strong>{{crib.price | currency : "USD $" : 0 }}</p>
                </div>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Bedrooms:</strong> {{crib.details.bedrooms}}</li>
                    <li class="list-group-item"><strong>Bathrooms:</strong> {{crib.details.bathrooms}}</li>
                    <li class="list-group-item"><strong>SqFt:</strong> {{crib.details.area}}</li>
                </ul>

                <div class="card-block">
                    <p class="card-text"><strong>Description: </strong>{{crib.description}}</p>
                </div>

            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" charset="utf-8"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.min.js" charset="utf-8"></script>
    <script src="js/app.js" charset="utf-8"></script>
    <script src="js/cribsController.js" charset="utf-8"></script>
    <script src="js/services.js" charset="utf-8"></script>
    <script src="js/filter.js" charset="utf-8"></script>

</body>

</html>
